# üêõ Troubleshooting - Soluci√≥n de Problemas\n\nSoluciones a problemas comunes que pueden ocurrir durante el desarrollo.\n\n## Instalaci√≥n y Setup\n\n### Problema: \"npm command not found\"\n**Causa:** Node.js no est√° instalado o PATH no est√° configurado\n\n**Soluci√≥n:**\n1. Descargar e instalar [Node.js](https://nodejs.org/)\n2. Abrir nueva terminal/PowerShell despu√©s de instalar\n3. Verificar: `node --version` y `npm --version`\n\n### Problema: \"EACCES: permission denied\"\n**Causa:** Permisos insuficientes en carpeta\n\n**Soluci√≥n:**\n```bash\n# Windows: Ejecutar como administrador\n# macOS/Linux: Usar sudo\nsudo npm install\n\n# O cambiar permisos\nsudo chown -R $USER:$USER .\n```\n\n### Problema: \"npm ERR! code ECONNREFUSED\"\n**Causa:** Error de conexi√≥n con npm registry\n\n**Soluci√≥n:**\n```bash\n# Limpiar cach√©\nnpm cache clean --force\n\n# Reintentar instalaci√≥n\nnpm install\n\n# O cambiar registry\nnpm config set registry https://registry.npmjs.org/\n```\n\n### Problema: Dependencias conflictivas\n**Causa:** Versiones incompatibles de librer√≠as\n\n**Soluci√≥n:**\n```bash\n# Eliminar node_modules y package-lock.json\nrm -rf node_modules package-lock.json\n\n# Reinstalar\nnpm install\n```\n\n## Ejecuci√≥n Local\n\n### Problema: \"Port 5173 already in use\"\n**Causa:** Puerto ya est√° en uso por otro proceso\n\n**Soluci√≥n:**\n```bash\n# Opci√≥n 1: Matar el proceso en Windows\nnetstat -ano | findstr :5173\nkill -PID <numero>\n\n# Opci√≥n 2: Cambiar puerto\nnpm run dev -- --port 3000\n\n# Opci√≥n 3: Esperar o reiniciar\n```\n\n### Problema: \"Cannot find module '@/'\"\n**Causa:** Path alias no est√° configurado\n\n**Soluci√≥n:**\nVerificar `vite.config.ts`:\n```typescript\nimport react from '@vitejs/plugin-react';\nimport { defineConfig } from 'vite';\nimport path from 'path';\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n});\n```\n\n### Problema: \"VITE_API_BASE_URL is undefined\"\n**Causa:** Variables de entorno no configuradas\n\n**Soluci√≥n:**\n```bash\n# Crear archivo .env\necho 'VITE_API_BASE_URL=http://localhost:3000/api' > .env\n\n# O crear desde .env.example\ncp .env.example .env\n```\n\n### Problema: TypeScript errors en editor\n**Causa:** Configuraci√≥n de TypeScript no se carg√≥\n\n**Soluci√≥n:**\n```bash\n# VS Code: Ctrl+Shift+P -> Reload Window\n# O ejecutar:\nnpx tsc --version\n\n# Verificar tsconfig.json\ncat tsconfig.json\n```\n\n## Desarrollo\n\n### Problema: \"Cannot destructure property 'useContext'\"\n**Causa:** Hook usado fuera de componente\n\n**Soluci√≥n:**\n```typescript\n// ‚ùå INCORRECTO - En funci√≥n regular\nfunction regularFunction() {\n  const { user } = useAuth(); // ERROR\n}\n\n// ‚úÖ CORRECTO - En componente\nconst MyComponent = () => {\n  const { user } = useAuth(); // OK\n};\n```\n\n### Problema: \"Warning: componentWillReceiveProps has been renamed\"\n**Causa:** Usando componentWillReceiveProps (deprecated)\n\n**Soluci√≥n:**\nUsar hooks en lugar de class components:\n```typescript\n// ‚ùå VIEJO\nclass MyComponent extends React.Component {\n  componentWillReceiveProps(nextProps) { }\n}\n\n// ‚úÖ NUEVO\nconst MyComponent = (props) => {\n  useEffect(() => {\n    // L√≥gica cuando props cambian\n  }, [props]);\n};\n```\n\n### Problema: Componente no se re-renderiza\n**Causa:** Mutaci√≥n directa de estado\n\n**Soluci√≥n:**\n```typescript\n// ‚ùå INCORRECTO\nstate.user.name = 'Juan'; // Mutaci√≥n directa\nsetState(state);\n\n// ‚úÖ CORRECTO\nsetState({\n  ...state,\n  user: { ...state.user, name: 'Juan' }\n});\n\n// O con objeto\nsetUser({ ...user, name: 'Juan' });\n```\n\n### Problema: \"Infinite loop\" en useEffect\n**Causa:** Falta de dependencias en useEffect\n\n**Soluci√≥n:**\n```typescript\n// ‚ùå INCORRECTO - Se ejecuta infinitas veces\nuseEffect(() => {\n  setData(data); // Causa re-render infinito\n});\n\n// ‚úÖ CORRECTO\nuseEffect(() => {\n  fetchData();\n}, []); // Array vac√≠o = solo al montar\n\n// ‚úÖ CORRECTO con dependencias\nuseEffect(() => {\n  // Hacer algo con userId\n}, [userId]); // Se ejecuta solo cuando userId cambia\n```\n\n### Problema: \"setState\" no actualiza estado\n**Causa:** setState es asincr√≥nico\n\n**Soluci√≥n:**\n```typescript\n// ‚ùå INCORRECTO\nsetUser({ name: 'Juan' });\nconsole.log(user); // Usuario a√∫n es viejo\n\n// ‚úÖ CORRECTO\nsetUser({ name: 'Juan' });\n\nuseEffect(() => {\n  // user aqu√≠ ya est√° actualizado\n  console.log(user);\n}, [user]);\n```\n\n## API y Servicios\n\n### Problema: \"401 Unauthorized\" en requests\n**Causa:** Token expirado o no enviado\n\n**Soluci√≥n:**\n```typescript\n// Verificar token en localStorage\nconst token = localStorage.getItem('authToken');\nconsole.log('Token:', token);\n\n// Verificar header Authorization se env√≠a\n// Abrir DevTools > Network > Ver request headers\n\n// Si token expir√≥, hacer logout\nif (error.response?.status === 401) {\n  localStorage.removeItem('authToken');\n  navigate('/login');\n}\n```\n\n### Problema: \"404 Not Found\" en API\n**Causa:** Endpoint incorrecto\n\n**Soluci√≥n:**\n```typescript\n// Verificar URL de API\nconsole.log(import.meta.env.VITE_API_BASE_URL);\n\n// Verificar endpoint en servicio\n// Ejemplo: GET /api/productos\n\n// Usar DevTools Network tab para ver requests\n```\n\n### Problema: CORS error\n**Causa:** Backend no permite origen del frontend\n\n**Soluci√≥n:**\nEn el backend (Node/Express):\n```javascript\nconst cors = require('cors');\napp.use(cors({\n  origin: 'http://localhost:5173',\n  credentials: true\n}));\n```\n\nDurante desarrollo, usar proxy en `vite.config.ts`:\n```typescript\nexport default defineConfig({\n  server: {\n    proxy: {\n      '/api': {\n        target: 'http://localhost:3000',\n        changeOrigin: true,\n      }\n    }\n  }\n});\n```\n\n### Problema: \"Network request failed\"\n**Causa:** Backend no est√° corriendo\n\n**Soluci√≥n:**\n```bash\n# Verificar si backend est√° activo\ncurl http://localhost:3000/api/health\n\n# O usar Postman/Insomnia para testear API\n```\n\n### Problema: Datos no se actualizan despu√©s de crear/editar\n**Causa:** No refrescando la lista despu√©s de cambios\n\n**Soluci√≥n:**\n```typescript\nconst handleSuccess = async () => {\n  // Refrescar datos\n  const updated = await miService.getAll();\n  setData(updated);\n  setOpenDialog(false);\n  showSnackbar('Guardado', 'success');\n};\n```\n\n## Testing\n\n### Problema: \"Cannot find module in test\"\n**Causa:** Jest no conoce alias de rutas\n\n**Soluci√≥n:**\nEn `jest.config.cjs`:\n```javascript\nmodule.exports = {\n  moduleNameMapper: {\n    '^@/(.*)$': '<rootDir>/src/$1',\n  },\n};\n```\n\n### Problema: \"TypeError: Cannot read property 'mock'\"\n**Causa:** Mock no est√° correctamente configurado\n\n**Soluci√≥n:**\n```typescript\n// Verificar sintaxis\njest.mock('@/services/api', () => ({\n  api: {\n    get: jest.fn(),\n    post: jest.fn(),\n  }\n}));\n\n// Limpiar mocks entre tests\nafterEach(() => {\n  jest.clearAllMocks();\n});\n```\n\n## Build y Production\n\n### Problema: Build falla con TypeScript errors\n**Causa:** Errores de tipado no permitidos en build\n\n**Soluci√≥n:**\n```bash\n# Ver errores espec√≠ficos\nnpx tsc --noEmit\n\n# Resolver errores de tipo\n# O deshabilitar strict mode en tsconfig.json (no recomendado)\n```\n\n### Problema: Build sale muy grande\n**Causa:** Librer√≠as grandes incluidas sin necesidad\n\n**Soluci√≥n:**\n```bash\n# Analizar bundle\nnpm run build -- --analyze\n\n# Revisar imports innecesarios\n# Considerar lazy loading para rutas\n```\n\n### Problema: Archivos est√°ticos no se cargan en producci√≥n\n**Causa:** Rutas relativas incorrectas\n\n**Soluci√≥n:**\nEn `vite.config.ts`:\n```typescript\nexport default defineConfig({\n  base: '/restaurant-app/', // Si est√° en subdirectorio\n  // o\n  base: '/', // Si est√° en ra√≠z\n});\n```\n\n## Performance\n\n### Problema: App cargando lentamente\n**Causa:** Bundle grande o requests lentas\n\n**Soluci√≥n:**\n```typescript\n// Lazy load rutas\nconst AdminPanel = lazy(() => import('@/pages/AdminPanel'));\n\n// Implementar cach√©\nconst useCache = () => {\n  const cached = localStorage.getItem('key');\n  if (cached) return JSON.parse(cached);\n};\n\n// Usar useMemo para valores costosos\nconst memoizedValue = useMemo(() => {\n  return expensiveCalculation();\n}, [dependency]);\n```\n\n### Problema: Re-renders innecesarios\n**Causa:** Props o estado cambiando sin necesidad\n\n**Soluci√≥n:**\n```typescript\n// Usar useCallback para funciones\nconst handleClick = useCallback(() => {\n  // l√≥gica\n}, [dependency]);\n\n// Usar memo para componentes\nconst MyComponent = memo(({ prop }) => {\n  return <div>{prop}</div>;\n});\n```\n\n## Otros\n\n### Problema: \"Prettier\" formatea diferente\n**Causa:** Configuraci√≥n inconsistente\n\n**Soluci√≥n:**\nCrear `.prettierrc`:\n```json\n{\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"trailingComma\": \"es5\",\n  \"printWidth\": 80\n}\n```\n\n### Problema: Git merge conflicts\n**Causa:** Cambios conflictivos en archivos\n\n**Soluci√≥n:**\n```bash\n# Ver conflictos\ngit status\n\n# Resolver manualmente en editor\n# O usar herramienta visual\ngit mergetool\n\n# Completar merge\ngit add .\ngit commit -m \"Merge resolved\"\n```\n\n### Problema: \"Package not found\" despu√©s de install\n**Causa:** Package.json con versi√≥n incorrecta\n\n**Soluci√≥n:**\n```bash\n# Limpiar e reinstalar\nrm -rf node_modules package-lock.json\nnpm install\n\n# Verificar package.json est√° correcto\ncat package.json\n```\n\n## Contacto y M√°s Ayuda\n\nSi tu problema no est√° aqu√≠:\n\n1. **Revisar documentaci√≥n relevante** - Buscar en [docs/README.md](README.md)\n2. **Buscar en Google** - Mensaje de error + \"React\" o \"Vite\"\n3. **Stack Overflow** - Tag `reactjs` o `typescript`\n4. **GitHub Issues** - En repos relevantes\n5. **Slack/Discord** - Comunidades de React\n\n---\n\n√öltima actualizaci√≥n: Enero 2026\n"